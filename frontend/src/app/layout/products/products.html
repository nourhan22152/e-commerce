<h2>Products </h2>

<div *ngIf="products.length === 0">
  No products found.
</div>

<div class="product-grid">
  <div class="product-card" *ngFor="let item of products" (click)="goToDetails(item._id)">

    <!-- ðŸ”µ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Ø£ÙˆÙ„ variant) -->
    <div class="product-image" *ngIf="item.variants?.length > 0">
      <img [src]="item.variants[0].image" alt="Product Image" />
    </div>

    <h3>{{ item.name }}</h3>
    <p>{{ item.price }} EGP</p>

    <!-- ðŸ”µ Ø¹Ø±Ø¶ ØµÙˆØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„ÙˆØ§Ù† -->
    <div class="variant-images" *ngIf="item.variants?.length > 1">
      <img *ngFor="let v of item.variants" [src]="v.image" class="variant-thumb" alt="Variant Image">
    </div>

    <!-- ðŸ”µ Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ§Ø­Ø© -->
    <p class="colors">
      <strong>Colors:</strong>
      <span *ngFor="let v of item.variants">
        {{ v.color }}
      </span>
    </p>

    <!-- ðŸ”µ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª -->
    <p class="sizes">
      <strong>Sizes:</strong>
      <span *ngFor="let v of item.variants">
        <ng-container *ngFor="let s of v.sizes">
          {{ s.size }}
        </ng-container>
      </span>
    </p>

  </div>
</div>
