// 1ï¸âƒ£ Import Mongoose
const mongoose = require("mongoose");

// 2ï¸âƒ£ Create Schema
const userSchema = new mongoose.Schema({
  name: String,
  age: Number,
  email: String
});

// 3ï¸âƒ£ Create Model
const User = mongoose.model("User", userSchema);

// 4ï¸âƒ£ Export Model
module.exports = User;


---------------------index file---------------

// 1ï¸âƒ£ Import mongoose + model
const mongoose = require("mongoose");
const User = require("./models/user.model");

// 2ï¸âƒ£ Connect to database
mongoose.connect("mongodb://localhost:27017/myDatabase")
  .then(() => console.log("Database Connected"))
  .catch(err => console.log(err));


-----------------crud-------------------

ğŸ”¹ Create
await User.create({
  name: "Nourhan",
  age: 29,
  email: "test@gmail.com"
});

ğŸ”¹ Read
const users = await User.find({ age: 29 });
console.log(users);

ğŸ”¹ Update
await User.updateOne(
  { name: "Nourhan" },
  { age: 30 }
);

ğŸ”¹ Delete
await User.deleteOne({ name: "Nourhan" });