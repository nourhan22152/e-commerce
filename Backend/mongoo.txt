// 1ï¸âƒ£ Import Mongoose
const mongoose = require("mongoose");

// 2ï¸âƒ£ Create Schema
const userSchema = new mongoose.Schema({
  name: String,
  age: Number,
  email: String
});

// 3ï¸âƒ£ Create Model
const Customer = mongoose.model("Customer", userSchema);

// 4ï¸âƒ£ Export Model
module.exports = Customer;


---------------------index file---------------

// 1ï¸âƒ£ Import mongoose + model
const mongoose = require("mongoose");
const Customer = require("./models/customer.model");

// 2ï¸âƒ£ Connect to database
mongoose.connect("mongodb://localhost:27017/myDatabase")
  .then(() => console.log("Database Connected"))
  .catch(err => console.log(err));


-----------------crud-------------------

ğŸ”¹ Create
await Customer.create({
  name: "Nourhan",
  age: 29,
  email: "test@gmail.com"
});

ğŸ”¹ Read
const customers = await Customer.find({ age: 29 });
console.log(customers);

ğŸ”¹ Update
await Customer.updateOne(
  { name: "Nourhan" },
  { age: 30 }
);

ğŸ”¹ Delete
await Customer.deleteOne({ name: "Nourhan" });